package start;

import java.util.Scanner;

import master.MasterService;
import member.MemberService;

public class Menu {
	
	MemberService meService;
	MasterService maService;;
	
	public Menu() {
		meService = new MemberService();
		maService = new MasterService();
	}
	
	//첫 화면 
	public void run(Scanner sc) {
		System.out.println("=========================");
		System.out.println("스포츠 경기 티켓 예매 사이트");
		System.out.println("=========================");
		System.out.println("(1) 로그인");
		System.out.println("(2) 회원가입 ");
		System.out.println("=========================");
		System.out.print(": ");
		int num = sc.nextInt();
		
			if(num == 1) {
				meService.login(sc);
				
				if(meService.memType == 0) {
					memberRun(sc); //회원 로그인  화면 
				} else if (meService.memType == 1) {
					masterRun(sc); //관리자 로그인 화면 
				}
			} else if (num == 2) {
				meService.join(sc);
				run(sc);
			}			
	}//run()
	
	//회원 로그인 화면
	public void memberRun(Scanner sc) {
		boolean flag = true;
		while(flag) {
			System.out.println();
			System.out.println("(1) 스포츠 경기 예매 ");
			System.out.println("(2) 매점  ");
			System.out.println("(3) 회원정보  ");		
			System.out.println("(4) 게시판  ");
			System.out.println("(5) 로그아웃 ");		
			System.out.println("=========================");
			System.out.print("> ");
			int num = sc.nextInt();
			switch(num) {
			case 1:
				break;
			case 2:
				break;
			case 3:
				memberInfo(sc);
				break;
			case 4:
				break;
			case 5:
				meService.logout(sc);
				flag = false;
				break;
			}			
		}//while()
	}//memberRun()
	
	//회원 정보 
	public void memberInfo(Scanner sc) {
		boolean flag = true;
		while(flag) {
			System.out.println();
			System.out.println("(1) 내 정보  ");
			System.out.println("(2) 예매 경기 ");
			System.out.println("(3) 결제 정보 확인 ");		
			System.out.println("(4) 작성한 게시글 ");
			System.out.println("=========================");
			System.out.print("> ");
			int num = sc.nextInt();
			switch(num) {
			case 1:
				System.out.println();
				System.out.println("(1) 내 정보 확인  ");
				System.out.println("(2) 내 정보 수정 ");
				System.out.println("(3) 회원 탈퇴 ");		
				System.out.println("=========================");
				System.out.print("> ");
				num = sc.nextInt();
				switch(num) {
				case 1:
					break;
				case 2:
					break;
				case 3:
					meService.out(sc);
					System.out.println();
					break;
				}		
			case 2:
				System.out.println();
				System.out.println("(1) 예매경기 확인 ");
				System.out.println("(2) 예매경기 취소  ");
				System.out.println("=========================");
				System.out.print("> ");
				num = sc.nextInt();
				switch(num) {
				case 1:
					meService.checkRes();
					System.out.println();
					break;
				case 2:
					meService.deleteRes(sc);
					System.out.println();
					break;
				}
			case 3:
				meService.checkStore();
				System.out.println();
				break;
			case 4:
				System.out.println();
				System.out.println("(1) 게시글 전체목록 확인 ");
				System.out.println("(2) 작성한 게시글 수정  ");
				System.out.println("(3) 작성한 게시글 삭제 ");
				System.out.println("=========================");
				System.out.print("> ");
				num = sc.nextInt();
				switch(num) {
				case 1:
					meService.checkPost();
					System.out.println();
					break;
				case 2:
	
					break;
				case 3:

					break;
				}
			}
		}//while()
	}//memberInfo()
	
	//관리자 로그인 화면 
	public void masterRun(Scanner sc) {
		boolean flag = true;
		while(flag) {			
			System.out.println();
			System.out.println("(1) 회원 관리 ");
			System.out.println("(2) 블랙리스트 관리 ");
			System.out.println("(3) 경기 관리 ");		
			System.out.println("(4) 게시판  관리 ");
			System.out.println("(5) 결제 관리 ");		
			System.out.println("=========================");			
			System.out.print("> ");
			int num = sc.nextInt();
			
			switch(num) {
			case 1:
				System.out.println();
				System.out.println("(1) 전체 회원 정보 확인  ");
				System.out.println("(2) 회원 정보 검색 ");
				System.out.println("(3) 회원 정보 삭제 ");
				System.out.println("=========================");			
				System.out.print("> ");
				num = sc.nextInt();
				
				switch(num) {
				case 1:
					maService.getAll();
					masterRun(sc);
					break;
				case 2:
					maService.printById(sc);
					masterRun(sc);
					break;
				case 3:
					maService.deleteMemid(sc);
					masterRun(sc);
					break;
				}
			case 2:
				System.out.println();
				System.out.println("(1) 블랙리스트 확인 ");
				System.out.println("(2) 블랙리스트 추가 ");
				System.out.println("(3) 블랙리스트 삭제 ");
				System.out.println("=========================");			
				System.out.print("> ");
				num = sc.nextInt();
				
				switch(num) {
				case 1:
					maService.printBlack();
					masterRun(sc);
					break;
				case 2:
					maService.insertBlack(sc);
					masterRun(sc);
					break;
				case 3:
					maService.deleteBlack(sc);
					masterRun(sc);
					break;
				}
			case 3:
				System.out.println();
				System.out.println("(1) 경기 정보 추가  ");
				System.out.println("(2) 경기 정보 수정 ");
				System.out.println("(3) 경기 정보 삭제 ");
				System.out.println("=========================");			
				System.out.print("> ");
				num = sc.nextInt();
				
				switch(num) {
				case 1:
					maService.insertSports(sc);
					System.out.println();
					break;
				case 2:
					maService.editSports(sc);
					System.out.println();
					break;
				case 3:
					maService.deleteSports(sc);
					System.out.println();
					break;
				}
			case 4:
				System.out.println();
				System.out.println("(1) 게시글 검색 ");
				System.out.println("(2) 게시글 삭제" );
				System.out.println("=========================");			
				System.out.print("> ");
				num = sc.nextInt();
				
				switch(num) {
				case 1:
					maService.selectPost(sc);
					System.out.println();
					break;
				case 2:
					maService.deletePost(sc);
					break;
				}
			case 5:
				System.out.println();
				System.out.println("(1) 경기별 회원 결제여부 확인  ");
				System.out.println("(2) 경기별 미결제 회원에게 알림 ");
				System.out.println("=========================");			
				System.out.print("> ");
				num = sc.nextInt();
				
				switch(num) {
				case 1:
					maService.payment();
					System.out.println();
					break;
				case 2:
					
					break;
				}
				break;
			}			
		}//while()
	}//masterRun()

}//Menu